/**
 * Created by coffee on 2015/7/23.
 */

var list = [
    {
        "_id":930,
        "path":"MzM01399363583144.jpg",
        "name":"MzM01399363583144.jpg",
        "__v":0,
        "orderByDefault":80,
        "lastModify":"2015-07-23T03:08:11.267Z",
        "createdAt":"2015-07-23T03:08:11.267Z",
        "description":"",
        "classes":"girl"
    },
    {
        "_id":931,
        "path":"t0100bc8dbc68cd5c79.jpg",
        "name":"t0100bc8dbc68cd5c79.jpg",
        "__v":0,
        "orderByDefault":81,
        "lastModify":"2015-07-23T03:08:11.268Z",
        "createdAt":"2015-07-23T03:08:11.268Z",
        "description":"",
        "classes":"girl"
    },
    {"_id":932,"path":"t0104e1ea47b70676ec.jpg","name":"t0104e1ea47b70676ec.jpg","__v":0,"orderByDefault":82,"lastModify":"2015-07-23T03:08:11.268Z","createdAt":"2015-07-23T03:08:11.268Z","description":"","classes":"girl"},{"_id":933,"path":"t011132cc5f2ee4fea8.jpg","name":"t011132cc5f2ee4fea8.jpg","__v":0,"orderByDefault":83,"lastModify":"2015-07-23T03:08:11.268Z","createdAt":"2015-07-23T03:08:11.268Z","description":"","classes":"girl"},
    {"_id":934,"path":"t01143c4b170f373724.jpg","name":"t01143c4b170f373724.jpg","__v":0,"orderByDefault":84,"lastModify":"2015-07-23T03:08:11.268Z","createdAt":"2015-07-23T03:08:11.268Z","description":"","classes":"girl"},{"_id":935,"path":"t012bc22c2912c37e04.jpg","name":"t012bc22c2912c37e04.jpg","__v":0,"orderByDefault":85,"lastModify":"2015-07-23T03:08:11.269Z","createdAt":"2015-07-23T03:08:11.269Z","description":"","classes":"girl"},{"_id":936,"path":"t012e973e4f8a7f8b78.jpg","name":"t012e973e4f8a7f8b78.jpg","__v":0,"orderByDefault":86,"lastModify":"2015-07-23T03:08:11.269Z","createdAt":"2015-07-23T03:08:11.269Z","description":"","classes":"girl"},{"_id":937,"path":"t013e5051b91b6644a0.jpg","name":"t013e5051b91b6644a0.jpg","__v":0,"orderByDefault":87,"lastModify":"2015-07-23T03:08:11.269Z","createdAt":"2015-07-23T03:08:11.269Z","description":"","classes":"girl"},{"_id":938,"path":"t0164a354697a35f161.jpg","name":"t0164a354697a35f161.jpg","__v":0,"orderByDefault":88,"lastModify":"2015-07-23T03:08:11.269Z","createdAt":"2015-07-23T03:08:11.269Z","description":"","classes":"girl"},{"_id":939,"path":"t0168a1cd8b5c895fb5.jpg","name":"t0168a1cd8b5c895fb5.jpg","__v":0,"orderByDefault":89,"lastModify":"2015-07-23T03:08:11.270Z","createdAt":"2015-07-23T03:08:11.270Z","description":"","classes":"girl"},{"_id":940,"path":"t016974c0fc216dc66d.jpg","name":"t016974c0fc216dc66d.jpg","__v":0,"orderByDefault":90,"lastModify":"2015-07-23T03:08:11.270Z","createdAt":"2015-07-23T03:08:11.270Z","description":"","classes":"girl"},{"_id":941,"path":"t01743e67a503a76b01.jpg","name":"t01743e67a503a76b01.jpg","__v":0,"orderByDefault":91,"lastModify":"2015-07-23T03:08:11.270Z","createdAt":"2015-07-23T03:08:11.270Z","description":"","classes":"girl"},{"_id":942,"path":"t01814d38f29ad7d08d.jpg","name":"t01814d38f29ad7d08d.jpg","__v":0,"orderByDefault":92,"lastModify":"2015-07-23T03:08:11.270Z","createdAt":"2015-07-23T03:08:11.270Z","description":"","classes":"girl"},{"_id":943,"path":"t01a9226b1b7f60fa55.jpg","name":"t01a9226b1b7f60fa55.jpg","__v":0,"orderByDefault":93,"lastModify":"2015-07-23T03:08:11.271Z","createdAt":"2015-07-23T03:08:11.271Z","description":"","classes":"girl"},{"_id":944,"path":"t01ae3bf380957e26fa.jpg","name":"t01ae3bf380957e26fa.jpg","__v":0,"orderByDefault":94,"lastModify":"2015-07-23T03:08:11.271Z","createdAt":"2015-07-23T03:08:11.271Z","description":"","classes":"girl"},{"_id":945,"path":"t01ba0ba007896a2b36.jpg","name":"t01ba0ba007896a2b36.jpg","__v":0,"orderByDefault":95,"lastModify":"2015-07-23T03:08:11.272Z","createdAt":"2015-07-23T03:08:11.272Z","description":"","classes":"girl"},{"_id":946,"path":"t01bcaa1e505aa79a8f.jpg","name":"t01bcaa1e505aa79a8f.jpg","__v":0,"orderByDefault":96,"lastModify":"2015-07-23T03:08:11.272Z","createdAt":"2015-07-23T03:08:11.272Z","description":"","classes":"girl"},{"_id":947,"path":"t01ccd7dc6e65482ece.jpg","name":"t01ccd7dc6e65482ece.jpg","__v":0,"orderByDefault":97,"lastModify":"2015-07-23T03:08:11.272Z","createdAt":"2015-07-23T03:08:11.272Z","description":"","classes":"girl"},{"_id":948,"path":"t01fa3af2ae23d6c5d2.jpg","name":"t01fa3af2ae23d6c5d2.jpg","__v":0,"orderByDefault":98,"lastModify":"2015-07-23T03:08:11.272Z","createdAt":"2015-07-23T03:08:11.272Z","description":"","classes":"girl"},{"_id":949,"path":"t01fefd27554bbcbd5a.jpg","name":"t01fefd27554bbcbd5a.jpg","__v":0,"orderByDefault":99,"lastModify":"2015-07-23T03:08:11.273Z","createdAt":"2015-07-23T03:08:11.273Z","description":"","classes":"girl"}
];

var _list = list;

/**
 *
 * @param list 需要传入的数组
 * @param i  需要改变的元素位置
 * @param index  需要移动到的位置
 */
function changeSort(list, i, index){

    //对象的克隆方法
    Object.prototype.clone = function(){
        var objClone;
        if (this.constructor == Object){
            objClone = new this.constructor();
        }else{
            objClone = new this.constructor(this.valueOf());
        }
        for(var key in this){
            if ( objClone[key] != this[key] ){
                if ( typeof(this[key]) == 'object' ){
                    objClone[key] = this[key].clone();
                }else{
                    objClone[key] = this[key];
                }
            }
        }
        objClone.toString = this.toString;
        objClone.valueOf = this.valueOf;
        return objClone;
    };

    var _list, temp;

    temp = list[i];

    //克隆list
    _list = list.clone();


    //找到对应位置的元素剔除，然后指定位置添加
    list.splice(i, 1);
    list.splice(index, 0, temp);


    //修改orderByDefault为原来的顺序
    _list.forEach(function (element, index) {
        list[index].orderByDefault = element.orderByDefault;
    });

    return list;

}

console.log(changeSort(list, 3, 1));